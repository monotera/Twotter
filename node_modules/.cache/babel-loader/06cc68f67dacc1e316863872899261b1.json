{"remainingRequest":"/home/monotera/Desktop/Twotter/node_modules/thread-loader/dist/cjs.js!/home/monotera/Desktop/Twotter/node_modules/babel-loader/lib/index.js!/home/monotera/Desktop/Twotter/node_modules/eslint-loader/index.js??ref--13-0!/home/monotera/Desktop/Twotter/src/router/index.js","dependencies":[{"path":"/home/monotera/Desktop/Twotter/src/router/index.js","mtime":1607577027834},{"path":"/home/monotera/Desktop/Twotter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/monotera/Desktop/Twotter/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/monotera/Desktop/Twotter/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/monotera/Desktop/Twotter/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL21vbm90ZXJhL0Rlc2t0b3AvVHdvdHRlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB7IGNyZWF0ZVJvdXRlciwgY3JlYXRlV2ViSGlzdG9yeSB9IGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgSG9tZSBmcm9tICIuLi92aWV3cy9Ib21lLnZ1ZSI7CmltcG9ydCBVc2VyUHJvZmlsZSBmcm9tICIuLi92aWV3cy9Vc2VyUHJvZmlsZS52dWUiOwppbXBvcnQgQWRtaW4gZnJvbSAiLi4vdmlld3MvQWRtaW4udnVlIjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsKaW1wb3J0IHsgdXNlcnMgfSBmcm9tICIuLi9hc3NldHMvdXNlcnMiOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAiLyIsCiAgbmFtZTogIkhvbWUiLAogIGNvbXBvbmVudDogSG9tZQp9LCB7CiAgcGF0aDogIi91c2VyLzp1c2VySWQiLAogIG5hbWU6ICJVc2VyUHJvZmlsZSIsCiAgY29tcG9uZW50OiBVc2VyUHJvZmlsZQp9LCB7CiAgcGF0aDogIi9hZG1pbiIsCiAgbmFtZTogIkFkbWluIiwKICBjb21wb25lbnQ6IEFkbWluLAogIG1ldGE6IHsKICAgIHJlcXVpcmVzQWRtaW46IHRydWUKICB9Cn1dOwp2YXIgcm91dGVyID0gY3JlYXRlUm91dGVyKHsKICBoaXN0b3J5OiBjcmVhdGVXZWJIaXN0b3J5KCksCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICB2YXIgdXNlciwgaXNBZG1pbiwgcmVxdWlyZXNBZG1pbjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgdXNlciA9IHN0b3JlLnN0YXRlLlVzZXIudXNlcjsKCiAgICAgICAgICAgIGlmICh1c2VyKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goIlVzZXIvc2V0VXNlciIsIHVzZXJzWzBdKTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGlzQWRtaW4gPSB0cnVlOwogICAgICAgICAgICByZXF1aXJlc0FkbWluID0gdG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkLm1ldGEucmVxdWlyZXNBZG1pbjsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmIChyZXF1aXJlc0FkbWluICYmICFpc0FkbWluKSBuZXh0KHsKICAgICAgICAgICAgICBuYW1lOiAiSG9tZSIKICAgICAgICAgICAgfSk7ZWxzZSBuZXh0KCk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyLCBfeDMpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpKTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["/home/monotera/Desktop/Twotter/src/router/index.js"],"names":["createRouter","createWebHistory","Home","UserProfile","Admin","store","users","routes","path","name","component","meta","requiresAdmin","router","history","beforeEach","to","from","next","user","state","User","dispatch","isAdmin","matched","some","record"],"mappings":";;;AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,KAAT,QAAsB,iBAAtB;AAEA,IAAMC,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAER;AAHb,CADa,EAMb;AACEM,EAAAA,IAAI,EAAE,eADR;AAEEC,EAAAA,IAAI,EAAE,aAFR;AAGEC,EAAAA,SAAS,EAAEP;AAHb,CANa,EAYb;AACEK,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAEN,KAHb;AAIEO,EAAAA,IAAI,EAAE;AACJC,IAAAA,aAAa,EAAE;AADX;AAJR,CAZa,CAAf;AAsBA,IAAMC,MAAM,GAAGb,YAAY,CAAC;AAC1Bc,EAAAA,OAAO,EAAEb,gBAAgB,EADC;AAE1BM,EAAAA,MAAM,EAANA;AAF0B,CAAD,CAA3B;AAKAM,MAAM,CAACE,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,YAAAA,IADU,GACHd,KAAK,CAACe,KAAN,CAAYC,IAAZ,CAAiBF,IADd;;AAAA,gBAEXA,IAFW;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAGRd,KAAK,CAACiB,QAAN,CAAe,cAAf,EAA+BhB,KAAK,CAAC,CAAD,CAApC,CAHQ;;AAAA;AAKViB,YAAAA,OALU,GAKA,IALA;AAMVX,YAAAA,aANU,GAMMI,EAAE,CAACQ,OAAH,CAAWC,IAAX,CAAgB,UAACC,MAAD;AAAA,qBAAYA,MAAM,CAACf,IAAP,CAAYC,aAAxB;AAAA,aAAhB,CANN;AAOhB,gBAAIA,aAAa,IAAI,CAACW,OAAtB,EAA+BL,IAAI,CAAC;AAAET,cAAAA,IAAI,EAAE;AAAR,aAAD,CAAJ,CAA/B,KACKS,IAAI;;AARO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAWA,eAAeL,MAAf","sourcesContent":["import { createRouter, createWebHistory } from \"vue-router\";\nimport Home from \"../views/Home.vue\";\nimport UserProfile from \"../views/UserProfile.vue\";\nimport Admin from \"../views/Admin.vue\";\nimport store from \"../store\";\nimport { users } from \"../assets/users\";\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    component: Home,\n  },\n  {\n    path: \"/user/:userId\",\n    name: \"UserProfile\",\n    component: UserProfile,\n  },\n\n  {\n    path: \"/admin\",\n    name: \"Admin\",\n    component: Admin,\n    meta: {\n      requiresAdmin: true,\n    },\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n});\n\nrouter.beforeEach(async (to, from, next) => {\n  const user = store.state.User.user;\n  if (!user) {\n    await store.dispatch(\"User/setUser\", users[0]);\n  }\n  const isAdmin = true;\n  const requiresAdmin = to.matched.some((record) => record.meta.requiresAdmin);\n  if (requiresAdmin && !isAdmin) next({ name: \"Home\" });\n  else next();\n});\n\nexport default router;\n"]}]}